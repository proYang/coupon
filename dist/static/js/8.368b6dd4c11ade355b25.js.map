{"version":3,"sources":["webpack:///static/js/8.368b6dd4c11ade355b25.js","webpack:///./src/views/home/setting/index.vue","webpack:///./src/views/home/setting/index.vue?a6cc","webpack:///index.vue?1926"],"names":["webpackJsonp","193","module","exports","__webpack_require__","Component","641","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","_s","form","updated_at","ref","model","label-width","label","email","username","created_at","type","placeholder","value","callback","$$v","qq","expression","nickname","phone_number","on","change","$event","getRegion","provinceCode","_l","item","name","cityCode","staticStyle","margin-top","countyCode","address","click","editInfo","getInfo","staticRenderFns","658","Object","defineProperty","default","data","undefined","oldData","province","city","county","mounted","methods","object","$api","then","res","key","hasOwnProperty","key2","that","length","$alert","confirmButtonText","obj","parseInt","state","$message","success","error"],"mappings":"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","file":"static/js/8.368b6dd4c11ade355b25.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(71)(\n  /* script */\n  __webpack_require__(658),\n  /* template */\n  __webpack_require__(641),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 641:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"crumbs\"\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', [_c('i', {\n    staticClass: \"el-icon-setting\"\n  }), _vm._v(\" 商户设置（您上次更新资料在\" + _vm._s(_vm.form.updated_at) + \"）\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-box\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.email))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公司名称\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.username))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"入驻时间\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.created_at))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"qq号码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"\",\n      \"placeholder\": \"请输入qq号码\"\n    },\n    model: {\n      value: (_vm.form.qq),\n      callback: function($$v) {\n        _vm.form.qq = $$v\n      },\n      expression: \"form.qq\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户姓名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入用户姓名\"\n    },\n    model: {\n      value: (_vm.form.nickname),\n      callback: function($$v) {\n        _vm.form.nickname = $$v\n      },\n      expression: \"form.nickname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"电话号码\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.phone_number),\n      callback: function($$v) {\n        _vm.form.phone_number = $$v\n      },\n      expression: \"form.phone_number\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"商户地址\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择所在省\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.getRegion('city')\n      }\n    },\n    model: {\n      value: (_vm.provinceCode),\n      callback: function($$v) {\n        _vm.provinceCode = $$v\n      },\n      expression: \"provinceCode\"\n    }\n  }, _vm._l((_vm.province), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择所在市\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.getRegion('county')\n      }\n    },\n    model: {\n      value: (_vm.cityCode),\n      callback: function($$v) {\n        _vm.cityCode = $$v\n      },\n      expression: \"cityCode\"\n    }\n  }, _vm._l((_vm.city), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-select', {\n    staticStyle: {\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"placeholder\": \"请选择所在县\"\n    },\n    model: {\n      value: (_vm.countyCode),\n      callback: function($$v) {\n        _vm.countyCode = $$v\n      },\n      expression: \"countyCode\"\n    }\n  }, _vm._l((_vm.county), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-input', {\n    staticStyle: {\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"请输入详细地址\"\n    },\n    model: {\n      value: (_vm.form.address),\n      callback: function($$v) {\n        _vm.form.address = $$v\n      },\n      expression: \"form.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary \"\n    },\n    on: {\n      \"click\": _vm.editInfo\n    }\n  }, [_vm._v(\"更新\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.getInfo\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 658:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      form: {\n        username: undefined,\n        nickname: undefined,\n        email: undefined,\n        qq: undefined,\n        phone_number: undefined,\n        created_at: undefined,\n        updated_at: undefined },\n\n      oldData: {\n        phone_number: undefined,\n        qq: undefined,\n        nickname: undefined\n      },\n      province: [],\n      city: [],\n      county: [],\n      provinceCode: '',\n      cityCode: '',\n      countyCode: ''\n    };\n  },\n  mounted: function mounted() {\n    this.getInfo();\n    this.getRegion('province');\n  },\n\n  methods: {\n    getInfo: function getInfo() {\n      var that = this;\n      var object = this.form;\n      var oldData = this.oldData;\n      this.$api.getInfo().then(function (res) {\n        for (var key in object) {\n          if (object.hasOwnProperty(key)) {\n            object[key] = res.data[key];\n          }\n        }\n        for (var key2 in oldData) {\n          if (oldData.hasOwnProperty(key2)) {\n            oldData[key2] = res.data[key2];\n          }\n        }\n      });\n    },\n    editInfo: function editInfo() {\n      var that = this;\n      if (this.form.nickname.length < 5) {\n        this.$alert('用户名必须大于五个字符', '提示', {\n          confirmButtonText: '我知道了'\n        });\n        return;\n      }\n      var obj = {};\n      if (this.form.qq && this.form.qq.length > 0 && this.form.qq != this.oldData.qq) {\n        obj.qq = parseInt(this.form.qq);\n      }\n      if (this.form.nickname != this.oldData.nickname) {\n        obj.nickname = this.form.nickname;\n      }\n      if (this.form.phone_number != this.oldData.phone_number) {\n        obj.phone_number = this.form.phone_number;\n      }\n      this.$api.editInfo(obj).then(function (res) {\n        if (res.state == 200) {\n          that.$message.success('更新商户资料成功！');\n          that.getInfo();\n        } else {\n          that.$message.error('更新商户资料失败！');\n        }\n      });\n    },\n    getRegion: function getRegion(type) {\n      var that = this;\n      var cityCode;\n      if (type == 'province') {\n        cityCode = null;\n      } else if (type == 'city') {\n        cityCode = this.provinceCode;\n        this.city = [];\n        this.cityCode = '';\n        this.county = [];\n        this.countyCode = '';\n      } else if (type == 'county') {\n        cityCode = this.cityCode;\n        this.county = [];\n        this.countyCode = '';\n      }\n      this.$api.getRegion({ 'cityCode': cityCode }).then(function (res) {\n        that[type] = res.data;\n      });\n    }\n  }\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.368b6dd4c11ade355b25.js","var Component = require(\"!../../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cdecbd4c\\\"}!../../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/setting/index.vue\n// module id = 193\n// module chunks = 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"crumbs\"\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', [_c('i', {\n    staticClass: \"el-icon-setting\"\n  }), _vm._v(\" 商户设置（您上次更新资料在\" + _vm._s(_vm.form.updated_at) + \"）\")])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"form-box\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.email))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"公司名称\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.username))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"入驻时间\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.form.created_at))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"qq号码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"\",\n      \"placeholder\": \"请输入qq号码\"\n    },\n    model: {\n      value: (_vm.form.qq),\n      callback: function($$v) {\n        _vm.form.qq = $$v\n      },\n      expression: \"form.qq\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户姓名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入用户姓名\"\n    },\n    model: {\n      value: (_vm.form.nickname),\n      callback: function($$v) {\n        _vm.form.nickname = $$v\n      },\n      expression: \"form.nickname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"电话号码\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.phone_number),\n      callback: function($$v) {\n        _vm.form.phone_number = $$v\n      },\n      expression: \"form.phone_number\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"商户地址\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择所在省\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.getRegion('city')\n      }\n    },\n    model: {\n      value: (_vm.provinceCode),\n      callback: function($$v) {\n        _vm.provinceCode = $$v\n      },\n      expression: \"provinceCode\"\n    }\n  }, _vm._l((_vm.province), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择所在市\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.getRegion('county')\n      }\n    },\n    model: {\n      value: (_vm.cityCode),\n      callback: function($$v) {\n        _vm.cityCode = $$v\n      },\n      expression: \"cityCode\"\n    }\n  }, _vm._l((_vm.city), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-select', {\n    staticStyle: {\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"placeholder\": \"请选择所在县\"\n    },\n    model: {\n      value: (_vm.countyCode),\n      callback: function($$v) {\n        _vm.countyCode = $$v\n      },\n      expression: \"countyCode\"\n    }\n  }, _vm._l((_vm.county), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.cityCode\n      }\n    })\n  })), _vm._v(\" \"), _c('el-input', {\n    staticStyle: {\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"请输入详细地址\"\n    },\n    model: {\n      value: (_vm.form.address),\n      callback: function($$v) {\n        _vm.form.address = $$v\n      },\n      expression: \"form.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary \"\n    },\n    on: {\n      \"click\": _vm.editInfo\n    }\n  }, [_vm._v(\"更新\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.getInfo\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-cdecbd4c\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/home/setting/index.vue\n// module id = 641\n// module chunks = 8","<template>\n  <div>\n    <div class=\"crumbs\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item><i class=\"el-icon-setting\"></i> 商户设置（您上次更新资料在{{form.updated_at}}）</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <div class=\"form-box\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"邮箱\">\n          <span>{{form.email}}</span>\n        </el-form-item>\n        <el-form-item label=\"公司名称\">\n          <span>{{form.username}}</span>\n        </el-form-item>\n        <el-form-item label=\"入驻时间\">\n          <span>{{form.created_at}}</span>\n        </el-form-item>\n        <el-form-item label=\"qq号码\">\n          <el-input type=\"\" v-model=\"form.qq\" placeholder=\"请输入qq号码\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户姓名\">\n          <el-input v-model=\"form.nickname\" placeholder=\"请输入用户姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电话号码\">\n          <el-input v-model=\"form.phone_number\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商户地址\">\n          <el-select v-model=\"provinceCode\" @change=\"getRegion('city')\" placeholder=\"请选择所在省\">\n            <el-option v-for=\"item in province\" :label=\"item.name\" :value=\"item.cityCode\">\n            </el-option>\n          </el-select>\n          <el-select v-model=\"cityCode\" @change=\"getRegion('county')\" placeholder=\"请选择所在市\">\n            <el-option v-for=\"item in city\" :label=\"item.name\" :value=\"item.cityCode\">\n            </el-option>\n          </el-select>\n          <el-select style=\"margin-top: 20px;\" v-model=\"countyCode\" placeholder=\"请选择所在县\">\n            <el-option v-for=\"item in county\" :label=\"item.name\" :value=\"item.cityCode\">\n            </el-option>\n          </el-select>\n          <el-input style=\"margin-top: 20px;\" type='textarea' v-model=\"form.address\" placeholder=\"请输入详细地址\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary \" @click=\"editInfo\">更新</el-button>\n          <el-button @click=\"getInfo\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  \n  </div>\n</template>\n\n<script>\nexport default {\n  data: function () {\n    return {\n      form: {\n        username: undefined, // 公司名称\n        nickname: undefined, // 用户名  ----------可修改\n        email: undefined, // 邮箱地址\n        qq: undefined, // qq号码      ----------可修改\n        phone_number: undefined, // 电话号码  ----------可修改\n        created_at: undefined, // 入驻时间\n        updated_at: undefined // 上次更新记录时间\n      },\n      // 之前的用户信息\n      oldData: {\n        phone_number: undefined,\n        qq: undefined,\n        nickname: undefined\n      },\n      province: [], // 省\n      city: [], // 市\n      county: [], // 县\n      provinceCode: '',\n      cityCode: '',\n      countyCode: ''\n    }\n  },\n  mounted() {\n    // 获取资料\n    this.getInfo()\n    this.getRegion('province')\n  },\n  methods: {\n    getInfo() {\n      var that = this\n      var object = this.form\n      var oldData = this.oldData\n      this.$api.getInfo().then(function (res) {\n        for (var key in object) {\n          if (object.hasOwnProperty(key)) {\n            object[key] = res.data[key]\n          }\n        }\n        for (var key2 in oldData) {\n          if (oldData.hasOwnProperty(key2)) {\n            oldData[key2] = res.data[key2]\n          }\n        }\n      })\n    },\n    editInfo() {\n      var that = this\n      if (this.form.nickname.length < 5) {\n        this.$alert('用户名必须大于五个字符', '提示', {\n          confirmButtonText: '我知道了'\n        })\n        return\n      }\n      var obj = {}\n      if (this.form.qq && this.form.qq.length > 0 && this.form.qq != this.oldData.qq) {\n        obj.qq = parseInt(this.form.qq)\n      }\n      if (this.form.nickname != this.oldData.nickname) {\n        obj.nickname = this.form.nickname\n      }\n      if (this.form.phone_number != this.oldData.phone_number) {\n        obj.phone_number = this.form.phone_number\n      }\n      this.$api.editInfo(obj).then(function (res) {\n        if (res.state == 200) {\n          that.$message.success('更新商户资料成功！')\n          that.getInfo()\n        } else {\n          that.$message.error('更新商户资料失败！')\n        }\n      })\n    },\n    getRegion(type) {\n      var that = this\n      var cityCode\n      if (type == 'province') {\n        cityCode = null\n      } else if (type == 'city') {\n        cityCode = this.provinceCode\n        this.city = []\n        this.cityCode = ''\n        this.county = []\n        this.countyCode = ''\n      } else if (type == 'county') {\n        cityCode = this.cityCode\n        this.county = []\n        this.countyCode = ''\n      }\n      this.$api.getRegion({'cityCode': cityCode}).then(function (res) {\n        that[type] = res.data\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?4b464f14"],"sourceRoot":""}